# Cloudflare Pages Deployment Guide

## ‚ö° Quick Setup (Recommended)

Both your frontend and backend deploy automatically! Just follow these steps:

### 1. Get Your PartyKit Token

1. Go to [partykit.io](https://www.partykit.io/)
2. Sign in with GitHub
3. Go to your dashboard and copy your **Deploy Token**

### 2. Add PartyKit Token to GitHub

1. Go to your GitHub repo: **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
2. Click **New repository secret**
3. Name: `PARTYKIT_TOKEN`
4. Value: (paste your PartyKit token)
5. Click **Add secret**

Now PartyKit will auto-deploy on every push to `master`!

### 3. Create Cloudflare Pages Project

1. Go to [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. Click **Workers & Pages** ‚Üí **Create application** ‚Üí **Pages**
3. Click **Connect to Git**
4. Select your GitHub account and **OpenCatan** repository
5. Click **Begin setup**

### 4. Configure Build Settings

Use these settings:

- **Production branch**: `master`
- **Build command**: `npm run build`
- **Build output directory**: `dist`
- **Root directory**: `/` (leave blank)

**Environment Variables** (click "Add variable"):
- `NODE_VERSION`: `20`
- `VITE_PARTYKIT_HOST`: `open-catan.coleschaffer.partykit.dev`

### 5. Deploy!

Click **Save and Deploy**. Cloudflare Pages will build and deploy your site.

Your site will be live at a URL like: `https://opencatan-xxx.pages.dev`

## ‚úÖ That's It!

Both services deploy automatically now:
- **Frontend (Cloudflare Pages)**: Deploys on every push
- **Backend (PartyKit)**: Deploys via GitHub Actions on every push

Your URLs:
- **Frontend**: `https://opencatan-xxx.pages.dev` (from Cloudflare)
- **Backend**: `https://open-catan.coleschaffer.partykit.dev`

---

## üõ†Ô∏è Manual Deployment (Optional)

If you prefer to deploy manually:

```bash
npm run scripts/deploy.sh
```

This will deploy PartyKit and build the frontend.

## Preview Deployments

Every pull request gets its own preview URL automatically.

## Custom Domain (Later)

Once ready, you can add your custom domain in:
Cloudflare Pages ‚Üí Your Project ‚Üí Custom domains
